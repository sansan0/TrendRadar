# yaml-language-server: $schema=https://json.schemastore.org/github-issue-forms.json

name: 🐛 문제가 발생했습니다
description: 프로그램이 정상적으로 작동하지 않거나 오류가 발생함
title: "[문제] "
labels: ["bug"]
assignees:
  - sansan0
body:
  - type: markdown
    attributes:
      value: |
        **상세하고 명확한 문제 설명은 프로젝트 작성자가 귀하의 문제를 더 빠르게 이해하고 해결하는 데 도움이 됩니다**. 스크린샷 업로드를 강력히 권장하며, 이미지와 텍스트를 함께 제공하면 문제를 더 쉽게 이해하고 파악할 수 있습니다.

        ---

        ### 📋 문제 제출 전 다음 사항을 먼저 확인하세요

        #### 1️⃣ **먼저 문서를 확인하는 것을 권장합니다** 📖
        대부분의 일반적인 문제는 문서에 자세히 설명되어 있으므로 먼저 관련 섹션을 확인하시기 바랍니다:
        - [📝 구성 튜토리얼](https://github.com/sansan0/TrendRadar#-快速开始)
        - [❓ 자주 묻는 질문](https://github.com/sansan0/TrendRadar#问题答疑与1元点赞)
        - [🐳 Docker 배포](https://github.com/sansan0/TrendRadar#-docker-部署)

        #### 2️⃣ **푸시 기능 테스트 시 주의사항** ⚠️
        메시지 푸시를 테스트할 때 다음 구성이 올바른지 확인하세요:

        **반드시 확인해야 할 구성 항목:**
        - ✅ `report.mode`를 `daily` 또는 `current`로 설정 (`incremental`은 사용하지 마세요. 이 모드는 새 콘텐츠가 있을 때만 푸시합니다)
        - ✅ `notification.push_window.enabled`를 `false`로 설정 (푸시 시간 창 제어 비활성화)
        - ✅ `notification.enable_notification`을 `true`로 설정 (알림 기능이 활성화되었는지 확인)

        **설명:**
        - 푸시 시간 창 제어(`push_window`)는 선택적 기능이며, 활성화하면 푸시 시간 범위를 제한합니다
        - 테스트 시에는 이 기능을 비활성화하여 푸시 시간 창에 있지 않아 메시지를 받지 못하는 것을 방지하는 것이 좋습니다

        #### 3️⃣ **구성 세부 사항 확인** 🔍
        일부 문제는 구성 세부 사항으로 인해 발생할 수 있으므로 다음을 확인하세요:
        - 구성 파일의 들여쓰기 형식이 올바른지 (YAML 형식은 엄격하며 Tab이 아닌 공백을 사용해야 함)
        - Webhook 주소가 완전히 복사되었는지 (추가 또는 누락된 문자가 없는지 확인)
        - 환경 변수가 올바르게 설정되었는지
        - 파일 경로가 올바른지

        #### 4️⃣ **어려움을 겪을 때의 제안** 💡
        - 30분 이상 시도했는데도 진전이 없다면 다른 방법을 고려해보세요
        - 관련 문서 섹션을 처음부터 다시 읽어보는 것을 권장합니다
        - 또는 다른 배포 방법을 시도해보세요 (예: Docker에서 GitHub Actions로 전환)

        #### 5️⃣ **배포 방법에 따라 완전한 정보 제공** 📦

        **GitHub Actions 배포인 경우:**
        1. **반드시 제공** Actions 워크플로 링크 (예: `https://github.com/귀하의사용자명/TrendRadar/actions/workflows/crawler.yml`)
        2. **실행 로그 확인 단계:**
           - 리포지토리 페이지 열기
           - 상단의 **Actions** 탭 클릭
           - 왼쪽의 **Crawler** 워크플로 클릭
           - 가장 최근 실행 기록 클릭
           - **Run crawler** 클릭하여 상세 로그 확인
           - **전체 로그 내용 스크린샷** (특히 오류 부분)
        3. `config.yaml` 구성 내용 제공 (민감한 정보는 숨기기)

        **Docker 배포인 경우:**
        1. 프로젝트 디렉토리 구조 스크린샷 제공 (`ls -la` 실행 또는 파일 관리자 열기)
        2. Docker 컨테이너 로그 제공 (`docker logs 컨테이너명` 실행)
        3. 컨테이너 상태 제공 (`docker ps -a` 실행)
        4. `.env` 파일 내용 제공 (민감한 정보는 숨기기)

        **로컬 실행인 경우:**
        1. 전체 오류 로그 스크린샷 제공
        2. `config.yaml` 구성 내용 제공
        3. Python 버전 제공 (`python --version` 실행)

  - type: dropdown
    id: bug-category
    attributes:
      label: 🏷️ 어떤 문제가 발생했나요
      options:
        - 데이터 가져오기 문제 (뉴스를 가져올 수 없음, 요청 실패 등)
        - 키워드 필터링 문제 (키워드가 작동하지 않음, 매칭 오류 등)
        - 알림 푸시 문제 (메시지를 받을 수 없음, 푸시 실패 등)
        - 구성 설정 문제 (구성 파일 오류, 매개변수가 작동하지 않음 등)
        - 배포 실행 문제 (Docker, GitHub Actions 등)
        - 성능 문제 (느린 실행, 지연 등)
        - 기타 문제
    validations:
      required: true

  - type: dropdown
    id: environment
    attributes:
      label: 🖥️ 사용 환경
      options:
        - 로컬 실행 (컴퓨터에서 직접 실행)
        - Docker 컨테이너 실행
        - GitHub Actions 자동 실행
        - 기타 방법
    validations:
      required: true

  - type: textarea
    id: bug-description
    attributes:
      label: 📝 문제를 자세히 설명해주세요
      description: 발생한 문제를 자세히 설명해주세요 (스크린샷과 함께 설명하는 것을 권장합니다)
      placeholder: |
        명확하게 설명해주세요:
        - 구체적으로 어떤 문제가 발생했나요
        - 문제가 발생했을 때의 상황
        - 이 문제가 어떤 기능에 영향을 미쳤나요

        💡 팁: 문제의 스크린샷을 업로드하면 더 많은 정보를 제공할 수 있습니다.
    validations:
      required: true

  - type: dropdown
    id: system-info
    attributes:
      label: 💻 시스템 정보
      description: 귀하의 컴퓨터 시스템
      options:
        - Windows 10
        - Windows 11
        - macOS
        - Ubuntu/Linux
        - 기타 시스템
        - 확실하지 않음
    validations:
      required: false

  - type: textarea
    id: reproduction-steps
    attributes:
      label: 🔄 이 문제를 재현하는 방법
      description: 이 문제를 다시 발생시키는 방법은? (선택 사항이지만 작성을 권장합니다)
      placeholder: |
        단계별로 설명해주세요 (각 단계마다 스크린샷을 첨부하는 것을 권장합니다):
        1. 저는 ...을 클릭했습니다
        2. 그런 다음 ...을 설정했습니다
        3. 그 후 ...이 나타났습니다

        💡 작업 과정의 스크린샷이 특히 유용합니다!
    validations:
      required: false

  - type: textarea
    id: expected-behavior
    attributes:
      label: ✅ 예상되는 정상 상황
      description: 정상적인 상황에서는 어떻게 되어야 하나요? (선택 사항)
      placeholder: |
        예상되는 정상적인 결과를 설명해주세요...
        참고 이미지가 있으면 더 좋습니다!
    validations:
      required: false

  - type: textarea
    id: error-logs
    attributes:
      label: 📋 오류 정보
      description: 프로그램에 표시된 오류 메시지 또는 로그 (있는 경우)
      placeholder: |
        프로그램에 오류 메시지가 표시된 경우 여기에 전체를 복사해주세요:

        ```
        오류 메시지 내용...
        ```

    validations:
      required: false

  - type: textarea
    id: config-info
    attributes:
      label: ⚙️ 관련 구성
      description: 문제와 관련된 구성 내용 (webhook 주소와 같은 민감한 정보는 숨겨주세요)
      placeholder: |
        관련 구성 내용 (민감한 정보는 숨기는 것을 잊지 마세요):

        ```yaml
        notification:
          enable_notification: true
          webhooks:
            feishu_url: "***숨김***"
        ```

  - type: textarea
    id: screenshots
    attributes:
      label: 📷 스크린샷 추가
      description: 관련 스크린샷 업로드 (강력히 권장합니다!)
      placeholder: |
        여기에 스크린샷을 드래그하세요. 다음을 포함하는 것을 권장합니다:
        - 오류 화면 스크린샷
        - 구성 설정 스크린샷
        - 작업 단계 스크린샷

        💡 스크린샷은 문제를 설명하는 가장 직관적인 방법입니다!

  - type: textarea
    id: additional-context
    attributes:
      label: 📎 기타 추가 정보
      description: 기타 유용할 수 있는 정보
      placeholder: |
        - 네트워크 환경의 특수한 상황
        - 이전에 정상적으로 작동했는지 여부
        - 최근에 설정을 변경한 적이 있는지
        - 관련이 있을 수 있다고 생각하는 기타 정보
