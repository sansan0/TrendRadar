# Notification Scheduler Extension Configuration
# 通知调度器扩展配置

# 是否启用此扩展 (Enable this extension)
enabled: true

# 时间容差（分钟）- 当前时间在此范围内匹配schedule时间
# Time tolerance (minutes) - how far from scheduled time to still match
tolerance_minutes: 5

# 通知调度配置
# Schedule definitions for time-based channel filtering
#
# 格式 (Format):
#   - time: "HH:MM" (24小时制，24-hour format)
#     platforms: [channel1, channel2, ...]
#     email:  # 可选，指定邮件接收者 (optional, override email recipient)
#       to: "recipient@example.com"  # 支持单个或多个邮箱，用逗号分隔
#     frequency_words: "path/to/frequency_words.txt"  # 可选，指定自定义关键词配置文件
#
# 支持的渠道 (Supported channels):
#   - feishu      飞书
#   - dingtalk    钉钉
#   - wework      企业微信
#   - telegram    Telegram
#   - email       邮件
#   - ntfy        ntfy
#   - bark        Bark
#   - slack       Slack
#   - generic_webhook 通用Webhook
#
# 行为说明 (Behavior):
#   - 如果当前时间匹配某个schedule的时间（±tolerance_minutes），只向该schedule指定的platforms发送通知
#   - 如果没有schedule匹配，向所有已配置的渠道发送通知（默认行为）
#   - 如果指定了email.to，会覆盖默认的邮件接收者
#   - email.to 支持多个邮箱，用逗号分隔或使用列表格式
#   - 如果指定了frequency_words，会使用该文件重新计算统计数据
#   - frequency_words 支持相对路径（相对于项目根目录）或绝对路径
#   - 如果所有platforms列表为空或无效，向所有已配置的渠道发送通知
schedules:
  # 示例1: 每天早上9点 - 只发送到飞书和Telegram
  # Example 1: 9:00 AM - only Feishu and Telegram
  # - time: "09:00"
  #   platforms: ["feishu", "telegram"]

  # 示例2: 每天下午2点 - 发送到飞书、钉钉、企业微信
  # Example 2: 2:00 PM - Feishu, Dingtalk, Wework
  # - time: "14:00"
  #   platforms: ["feishu", "dingtalk", "wework"]

  # 示例3: 每天下午6点 - 发送到所有平台（包括邮件覆盖）
  # Example 3: 6:00 PM - all platforms with email override
  # - time: "18:00"
  #   platforms: ["feishu", "dingtalk", "wework", "telegram", "email", "ntfy", "bark", "slack", "generic_webhook"]
  #   email:
  #     to: "custom@example.com"  # 覆盖默认邮件接收者

  # 示例4: 发送到多个邮箱（逗号分隔）
  # Example 4: Send to multiple recipients (comma-separated)
  # - time: "10:00"
  #   platforms: ["email"]
  #   email:
  #     to: "user1@example.com,user2@example.com,user3@example.com"

  # 示例5: 发送到多个邮箱（列表格式）
  # Example 5: Send to multiple recipients (list format)
  # - time: "10:00"
  #   platforms: ["email"]
  #   email:
  #     to:
  #       - "user1@example.com"
  #       - "user2@example.com"
  #       - "user3@example.com"

  # 示例6: 不同时段推送不同主题的内容（使用自定义关键词配置）
  # Example 6: Different topics for different time slots (using custom frequency_words)
  # - time: "09:00"
  #   platforms: ["feishu", "telegram"]
  #   frequency_words: "config/frequency_words_tech.txt"  # 早间：科技相关关键词
  #
  # - time: "14:00"
  #   platforms: ["feishu", "dingtalk"]
  #   frequency_words: "config/frequency_words_invest.txt"  # 午间：投资相关关键词
  #
  # - time: "18:00"
  #   platforms: ["all"]
  #   # 不指定 frequency_words 则使用默认关键词配置

  # 以下是一个实际配置示例
  # 以下配置按需修改或取消注释使用
  # Uncomment and modify the following to use:

  # - time: "09:00"
  #   platforms: ["feishu", "telegram"]
  #   # frequency_words: "config/frequency_words_morning.txt"  # 可选：早间专用关键词
  #
  # - time: "14:00"
  #   platforms: ["feishu", "dingtalk", "wework"]
  #   # frequency_words: "config/frequency_words_afternoon.txt"  # 可选：午间专用关键词
  #
  # - time: "18:00"
  #   platforms: ["feishu", "dingtalk", "wework", "telegram", "email"]
  #   email:
  #     to: "work@example.com"  # 工作邮件发送到工作邮箱
  #   # frequency_words: "config/frequency_words_evening.txt"  # 可选：晚间专用关键词
